{"ast":null,"code":"var _jsxFileName = \"/Users/jiyseo/Documents/4-2/Project/ajou_searfi/Ajou_Frontend/notice_app/src/route/Login.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport gVar from \"../const/GlobalVar\";\nimport authLogin from \"../const/AuthLogin\";\nimport swal from \"../component/Swal\";\nimport axwrap from \"../component/AxWrap\";\nimport InputText from \"../component/InputText\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const navigate = useNavigate();\n  const formSchema = yup.object({\n    email: yup.string().required(true).max(40, \"최대 40자 까지만 가능합니다\").matches(/^[\\w.+-]+@[\\w-]+(\\.[\\w-]+)+$/, \"이메일 주소 형식으로 입력하세요\"),\n    password: yup.string().required(true).min(8, \"영문 숫자포함 8자리 이상을 입력하세요\").max(16, \"최대 16자 까지만 가능합니다\").matches(/^((?=.*[a-zA-Z])(?=.*[\\d])|(?=.*[a-zA-Z])(?=.*[\\d])(?=.*[\\W])).{8,15}$/,\n    // 영문+숫자, 영문+숫자+특수문자\n    //\t/^(?=.*[a-zA-Z])(?=.*[\\d\\W]).{8,15}$/, // 영문+숫자, 영문+특수문자, 영문+숫자+특수문자\n    \"영문 숫자포함 8자리 이상을 입력하세요\")\n  });\n  const {\n    register,\n    handleSubmit,\n    control,\n    formState: {\n      errors,\n      isValid\n    }\n  } = useForm({\n    mode: \"onBlur\",\n    resolver: yupResolver(formSchema)\n  });\n  swal.setControl(control, true);\n  async function onSubmit(submitData) {\n    await axwrap.post('/login', submitData) // 템플릿 리터럴 사용\n    .then(data => {\n      var jwtToken = data.token; // 토큰 값을 추출\n      //console.log(\"data=\" + data);\n\n      if (jwtToken !== null) {\n        authLogin.setToken(jwtToken); // 토큰을 로컬 스토리지에 저장\n        //console.log(\"token=\" + authLogin.getToken());\n      }\n\n      navigate(\"/\");\n    }).catch(response => {\n      if (response.status === 401) {\n        return swal.alertErr(\"회원 정보가 맞지 않습니다.\", \"email\");\n      }\n    });\n  }\n  ;\n  function onClickSubmitButton(e) {\n    if (isValid) return;\n    e.preventDefault(); // 버튼 클릭 취소\n    swal.alert(\"이메일과 암호 입력을 완료하고 버튼을 클릭하세요.\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contentBoard\",\n      style: {\n        width: \"calc(50vh * 1.5)\",\n        height: \"45vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contentContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"pageTitle\",\n          children: gVar.TITLE\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"65%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(InputText, {\n            name: \"email\",\n            trim: true,\n            autoFocus: true,\n            maxLength: \"40\",\n            tabIndex: \"1\",\n            label: \"E-mail\",\n            placeholder: \"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n            error: errors,\n            ...register(\"email\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(InputText, {\n            type: \"password\",\n            name: \"password\",\n            maxLength: \"16\",\n            tabIndex: \"2\",\n            label: \"Password\",\n            placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n            error: errors,\n            ...register(\"password\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"relative\",\n            width: \"90%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"absolute\",\n              width: \"100%\",\n              bottom: \"1vh\",\n              textAlign: \"right\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/join\",\n              className: \"textLink\",\n              tabIndex: \"4\",\n              children: \"\\uD68C\\uC6D0\\uAC00\\uC785\\uD558\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"button\",\n            onClick: e => {\n              onClickSubmitButton(e);\n            },\n            tabIndex: \"3\",\n            children: \"\\uB85C\\uADF8\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"z5qrKgWIuTD+WBt5AfV+2Al/uow=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useNavigate","Link","useForm","yupResolver","yup","gVar","authLogin","swal","axwrap","InputText","jsxDEV","_jsxDEV","Login","_s","navigate","formSchema","object","email","string","required","max","matches","password","min","register","handleSubmit","control","formState","errors","isValid","mode","resolver","setControl","onSubmit","submitData","post","then","data","jwtToken","token","setToken","catch","response","status","alertErr","onClickSubmitButton","e","preventDefault","alert","children","className","style","width","height","TITLE","fileName","_jsxFileName","lineNumber","columnNumber","name","trim","autoFocus","maxLength","tabIndex","label","placeholder","error","type","position","bottom","textAlign","to","onClick","_c","$RefreshReg$"],"sources":["/Users/jiyseo/Documents/4-2/Project/ajou_searfi/Ajou_Frontend/notice_app/src/route/Login.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\n\nimport gVar from \"../const/GlobalVar\";\nimport authLogin from \"../const/AuthLogin\";\nimport swal from \"../component/Swal\";\nimport axwrap from \"../component/AxWrap\";\nimport InputText from \"../component/InputText\";\n\nexport default function Login() {\n  const navigate = useNavigate();\n\n  const formSchema = yup.object({\n    email: yup\n      .string()\n      .required(true)\n      .max(40, \"최대 40자 까지만 가능합니다\")\n      .matches(\n        /^[\\w.+-]+@[\\w-]+(\\.[\\w-]+)+$/,\n        \"이메일 주소 형식으로 입력하세요\"\n      ),\n    password: yup\n      .string()\n      .required(true)\n      .min(8, \"영문 숫자포함 8자리 이상을 입력하세요\")\n      .max(16, \"최대 16자 까지만 가능합니다\")\n      .matches(\n        /^((?=.*[a-zA-Z])(?=.*[\\d])|(?=.*[a-zA-Z])(?=.*[\\d])(?=.*[\\W])).{8,15}$/, // 영문+숫자, 영문+숫자+특수문자\n//\t/^(?=.*[a-zA-Z])(?=.*[\\d\\W]).{8,15}$/, // 영문+숫자, 영문+특수문자, 영문+숫자+특수문자\n        \"영문 숫자포함 8자리 이상을 입력하세요\"\n      ),\n  });\n\n  const {\n    register,\n    handleSubmit,\n    control,\n    formState: { errors, isValid },\n  } = useForm({\n    mode: \"onBlur\",\n    resolver: yupResolver(formSchema),\n  });\n\n  swal.setControl(control, true);\n\n  async function onSubmit(submitData) {\n\n    await axwrap\n      .post('/login', submitData) // 템플릿 리터럴 사용\n      .then((data) => {\n        var jwtToken = data.token; // 토큰 값을 추출\n//console.log(\"data=\" + data);\n\n        if (jwtToken !== null) {\n          authLogin.setToken(jwtToken); // 토큰을 로컬 스토리지에 저장\n//console.log(\"token=\" + authLogin.getToken());\n        }\n        navigate(\"/\");\n      })\n      .catch((response) => {\n        if (response.status === 401) {\n          return swal.alertErr(\"회원 정보가 맞지 않습니다.\", \"email\");\n        }\n      });\n  };\n\n  function onClickSubmitButton(e) {\n    if (isValid) return;\n    e.preventDefault(); // 버튼 클릭 취소\n    swal.alert(\"이메일과 암호 입력을 완료하고 버튼을 클릭하세요.\");\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n    <div className=\"contentBoard\" style={{ width: \"calc(50vh * 1.5)\", height: \"45vh\" }}>\n      <div className=\"contentContainer\">\n        <h2 className=\"pageTitle\">{gVar.TITLE}</h2>\n        <div style={{ width:\"65%\" }}>\n          <InputText name=\"email\" trim autoFocus\n            maxLength=\"40\" tabIndex=\"1\"\n            label=\"E-mail\"\n            placeholder=\"이메일을 입력해주세요.\"\n            error={errors}\n            {...register(\"email\")}\n          />\n      \t  <InputText type=\"password\" name=\"password\"\n            maxLength=\"16\" tabIndex=\"2\"\n            label=\"Password\"\n            placeholder=\"비밀번호를 입력해주세요.\"\n            error={errors}\n            {...register(\"password\")}\n          />\n        </div>\n        <div style={{ position:\"relative\", width: \"90%\" }}>\n          <div style={{ position:\"absolute\", width: \"100%\", bottom: \"1vh\", textAlign: \"right\" }}>\n            <Link to=\"/join\" className=\"textLink\" tabIndex=\"4\">\n              회원가입하기\n            </Link>\n          </div>\n          <button type=\"submit\" className=\"button\" onClick={(e)=>{onClickSubmitButton(e)}} tabIndex=\"3\">\n            로그인\n          </button>\n        </div>\n      </div>\n    </div>\n    </form>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}