{"ast":null,"code":"var _jsxFileName = \"/Users/jiyseo/Documents/4-2/Project/ajou_searfi/Ajou_Frontend/notice_app/src/route/Login.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport GVar from \"../const/GlobalVar\";\nimport Swal from \"../component/Swal\";\nimport axwrap from \"../component/AxWrap\";\nimport { setLogin } from \"../const/Auth\";\nimport InputText from \"../component/InputText\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const navigate = useNavigate();\n  const formSchema = yup.object({\n    in_email: yup.string().required(true).max(40, \"최대 40자 까지만 가능합니다\").matches(/^[\\w.+-]+@[\\w-]+(\\.[\\w-]+)+$/, \"이메일 주소 형식으로 입력하세요\"),\n    in_passwd: yup.string().required(true).min(8, \"영문 숫자포함 8자리 이상을 입력하세요\").max(16, \"최대 16자 까지만 가능합니다\").matches(/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,15}$/, \"영문 숫자포함 8자리 이상을 입력하세요\")\n  });\n  const {\n    register,\n    handleSubmit,\n    control,\n    formState: {\n      errors,\n      isValid\n    }\n  } = useForm({\n    mode: \"onBlur\",\n    resolver: yupResolver(formSchema)\n  });\n  Swal.setControl(control, true);\n  async function onSubmit(submitData) {\n    await axwrap.post(`${GVar.SERVER_URL}/login/`, submitData) // 템플릿 리터럴 사용\n    .then(data => {\n      var jwtToken = data.token; // 토큰 값을 추출\n      console.log(\"data=\" + data);\n      if (jwtToken !== null) {\n        setLogin(jwtToken); // setLogin 함수를 사용하여 토큰을 로컬 스토리지에 저장\n        console.log(\"token=\" + localStorage.getItem(\"token\"));\n      }\n      navigate(\"/\");\n    }).catch(response => {\n      if (response.status === 401) {\n        return Swal.alertErr(\"회원 정보가 맞지 않습니다.\", \"in_email\");\n      }\n    });\n    console.log(\"leave onSubmit()\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contentBoard\",\n      style: {\n        width: \"calc(50vh * 1.5)\",\n        height: \"45vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contentContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"pageTitle\",\n          children: GVar.TITLE\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"65%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(InputText, {\n            name: \"in_email\",\n            autoFocus: true,\n            maxLength: \"40\",\n            trim: true,\n            tabIndex: \"1\",\n            label: \"E-mail\",\n            placeholder: \"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n            error: errors,\n            ...register(\"in_email\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputText, {\n            type: \"password\",\n            name: \"in_passwd\",\n            maxLength: \"16\",\n            tabIndex: \"2\",\n            label: \"Password\",\n            placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n            error: errors,\n            ...register(\"in_passwd\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"relative\",\n            width: \"90%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"absolute\",\n              width: \"100%\",\n              bottom: \"1vh\",\n              textAlign: \"right\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/join\",\n              className: \"textLink\",\n              tabIndex: \"4\",\n              children: \"\\uD68C\\uC6D0\\uAC00\\uC785\\uD558\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"button\",\n            onClick: e => {\n              onClickSubmitButton(e);\n            },\n            children: \"\\uB85C\\uADF8\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"z5qrKgWIuTD+WBt5AfV+2Al/uow=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useNavigate","Link","useForm","yupResolver","yup","GVar","Swal","axwrap","setLogin","InputText","jsxDEV","_jsxDEV","Login","_s","navigate","formSchema","object","in_email","string","required","max","matches","in_passwd","min","register","handleSubmit","control","formState","errors","isValid","mode","resolver","setControl","onSubmit","submitData","post","SERVER_URL","then","data","jwtToken","token","console","log","localStorage","getItem","catch","response","status","alertErr","children","className","style","width","height","TITLE","fileName","_jsxFileName","lineNumber","columnNumber","name","autoFocus","maxLength","trim","tabIndex","label","placeholder","error","type","position","bottom","textAlign","to","onClick","e","onClickSubmitButton","_c","$RefreshReg$"],"sources":["/Users/jiyseo/Documents/4-2/Project/ajou_searfi/Ajou_Frontend/notice_app/src/route/Login.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\n\nimport GVar from \"../const/GlobalVar\";\nimport Swal from \"../component/Swal\";\nimport axwrap from \"../component/AxWrap\";\nimport { setLogin } from \"../const/Auth\";\nimport InputText from \"../component/InputText\";\n\nexport default function Login() {\n  const navigate = useNavigate();\n\n  const formSchema = yup.object({\n    in_email: yup\n      .string()\n      .required(true)\n      .max(40, \"최대 40자 까지만 가능합니다\")\n      .matches(\n        /^[\\w.+-]+@[\\w-]+(\\.[\\w-]+)+$/,\n        \"이메일 주소 형식으로 입력하세요\"\n      ),\n    in_passwd: yup\n      .string()\n      .required(true)\n      .min(8, \"영문 숫자포함 8자리 이상을 입력하세요\")\n      .max(16, \"최대 16자 까지만 가능합니다\")\n      .matches(\n        /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,15}$/,\n        \"영문 숫자포함 8자리 이상을 입력하세요\"\n      ),\n  });\n\n  const {\n    register,\n    handleSubmit,\n    control,\n    formState: { errors, isValid },\n  } = useForm({\n    mode: \"onBlur\",\n    resolver: yupResolver(formSchema),\n  });\n\n  Swal.setControl(control, true);\n\n  async function onSubmit(submitData) {\n    await axwrap\n      .post(`${GVar.SERVER_URL}/login/`, submitData) // 템플릿 리터럴 사용\n      .then((data) => {\n        var jwtToken = data.token; // 토큰 값을 추출\n        console.log(\"data=\" + data);\n\n        if (jwtToken !== null) {\n          setLogin(jwtToken); // setLogin 함수를 사용하여 토큰을 로컬 스토리지에 저장\n          console.log(\"token=\" + localStorage.getItem(\"token\"));\n        }\n        navigate(\"/\");\n      })\n      .catch((response) => {\n        if (response.status === 401) {\n          return Swal.alertErr(\"회원 정보가 맞지 않습니다.\", \"in_email\");\n        }\n      });\n    console.log(\"leave onSubmit()\");\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <div\n        className=\"contentBoard\"\n        style={{ width: \"calc(50vh * 1.5)\", height: \"45vh\" }}\n      >\n        <div className=\"contentContainer\">\n          <h2 className=\"pageTitle\">{GVar.TITLE}</h2>\n          <div style={{ width: \"65%\" }}>\n            <InputText\n              name=\"in_email\"\n              autoFocus\n              maxLength=\"40\"\n              trim={true}\n              tabIndex=\"1\"\n              label=\"E-mail\"\n              placeholder=\"이메일을 입력해주세요.\"\n              error={errors}\n              {...register(\"in_email\")}\n            />\n            <InputText\n              type=\"password\"\n              name=\"in_passwd\"\n              maxLength=\"16\"\n              tabIndex=\"2\"\n              label=\"Password\"\n              placeholder=\"비밀번호를 입력해주세요.\"\n              error={errors}\n              {...register(\"in_passwd\")}\n            />\n          </div>\n          <div style={{ position: \"relative\", width: \"90%\" }}>\n            <div\n              style={{\n                position: \"absolute\",\n                width: \"100%\",\n                bottom: \"1vh\",\n                textAlign: \"right\",\n              }}\n            >\n              <Link to=\"/join\" className=\"textLink\" tabIndex=\"4\">\n                회원가입하기\n              </Link>\n            </div>\n            <button\n              type=\"submit\"\n              className=\"button\"\n              onClick={(e) => {\n                onClickSubmitButton(e);\n              }}\n            >\n              로그인\n            </button>\n          </div>\n        </div>\n      </div>\n    </form>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}