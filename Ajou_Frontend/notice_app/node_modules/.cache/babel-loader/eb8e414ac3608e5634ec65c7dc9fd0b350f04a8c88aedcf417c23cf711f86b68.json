{"ast":null,"code":"var _jsxFileName = \"/Users/jiyseo/Documents/4-2/Project/ajou_searfi/Ajou_Frontend/notice_app/src/route/Login.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport GVar from \"../const/GlobalVar\";\nimport Swal from \"../component/Swal\";\nimport axwrap from \"../component/AxWrap\";\nimport { setLogin } from \"../const/Auth\";\nimport InputText from \"../component/InputText\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const navigate = useNavigate();\n  const formSchema = yup.object({\n    in_email: yup.string().required(true).max(40, \"최대 40자 까지만 가능합니다\").matches(/^[\\w.+-]+@[\\w-]+(\\.[\\w-]+)+$/, \"이메일 주소 형식으로 입력하세요\"),\n    in_passwd: yup.string().required(true).min(8, \"영문 숫자포함 8자리 이상을 입력하세요\").max(16, \"최대 16자 까지만 가능합니다\").matches(/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,15}$/, \"영문 숫자포함 8자리 이상을 입력하세요\")\n  });\n  const {\n    register,\n    handleSubmit,\n    control,\n    formState: {\n      errors,\n      isValid\n    }\n  } = useForm({\n    mode: \"onBlur\",\n    resolver: yupResolver(formSchema)\n  });\n  Swal.setControl(control, true);\n  async function onSubmit(submitData) {\n    await axwrap.post(`${GVar.SERVER_URL}/login/`, submitData) // 템플릿 리터럴 사용\n    .then(data => {\n      var jwtToken = data.token; // 토큰 값을 추출\n      console.log(\"data=\" + data);\n      if (jwtToken !== null) {\n        setLogin(jwtToken); // setLogin 함수를 사용하여 토큰을 로컬 스토리지에 저장\n        console.log(\"token=\" + localStorage.getItem(\"token\"));\n      }\n      navigate(\"/\");\n    }).catch(response => {\n      if (response.status === 401) {\n        return Swal.alertErr(\"회원 정보가 맞지 않습니다.\", \"in_email\");\n      }\n    });\n    console.log(\"leave onSubmit()\");\n  }\n  ;\n  function onClickSubmitButton(e) {\n    if (isValid) return;\n    e.preventDefault(); // 버튼 클릭 취소\n    Swal.alert(\"회원가입 정보 입력을 완료하고 버튼을 클릭하세요.\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contentBoard\",\n      style: {\n        width: \"calc(50vh * 1.5)\",\n        height: \"45vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contentContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"pageTitle\",\n          children: GVar.TITLE\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"65%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(InputText, {\n            name: \"in_email\",\n            autoFocus: true,\n            maxLength: \"40\",\n            trim: true,\n            tabIndex: \"1\",\n            label: \"E-mail\",\n            placeholder: \"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n            error: errors,\n            ...register(\"in_email\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(InputText, {\n            type: \"password\",\n            name: \"in_passwd\",\n            maxLength: \"16\",\n            tabIndex: \"2\",\n            label: \"Password\",\n            placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n            error: errors,\n            ...register(\"in_passwd\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"relative\",\n            width: \"90%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"absolute\",\n              width: \"100%\",\n              bottom: \"1vh\",\n              textAlign: \"right\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/join\",\n              className: \"textLink\",\n              tabIndex: \"4\",\n              children: \"\\uD68C\\uC6D0\\uAC00\\uC785\\uD558\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"button\",\n            onClick: e => {\n              onClickSubmitButton(e);\n            },\n            tabIndex: \"3\",\n            children: \"\\uB85C\\uADF8\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"z5qrKgWIuTD+WBt5AfV+2Al/uow=\", false, function () {\n  return [useNavigate, useForm];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useNavigate","Link","useForm","yupResolver","yup","GVar","Swal","axwrap","setLogin","InputText","jsxDEV","_jsxDEV","Login","_s","navigate","formSchema","object","in_email","string","required","max","matches","in_passwd","min","register","handleSubmit","control","formState","errors","isValid","mode","resolver","setControl","onSubmit","submitData","post","SERVER_URL","then","data","jwtToken","token","console","log","localStorage","getItem","catch","response","status","alertErr","onClickSubmitButton","e","preventDefault","alert","children","className","style","width","height","TITLE","fileName","_jsxFileName","lineNumber","columnNumber","name","autoFocus","maxLength","trim","tabIndex","label","placeholder","error","type","position","bottom","textAlign","to","onClick","_c","$RefreshReg$"],"sources":["/Users/jiyseo/Documents/4-2/Project/ajou_searfi/Ajou_Frontend/notice_app/src/route/Login.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\n\nimport GVar from \"../const/GlobalVar\";\nimport Swal from \"../component/Swal\";\nimport axwrap from \"../component/AxWrap\";\nimport { setLogin } from \"../const/Auth\";\nimport InputText from \"../component/InputText\";\n\nexport default function Login() {\n  const navigate = useNavigate();\n\n  const formSchema = yup.object({\n    in_email: yup\n      .string()\n      .required(true)\n      .max(40, \"최대 40자 까지만 가능합니다\")\n      .matches(\n        /^[\\w.+-]+@[\\w-]+(\\.[\\w-]+)+$/,\n        \"이메일 주소 형식으로 입력하세요\"\n      ),\n    in_passwd: yup\n      .string()\n      .required(true)\n      .min(8, \"영문 숫자포함 8자리 이상을 입력하세요\")\n      .max(16, \"최대 16자 까지만 가능합니다\")\n      .matches(\n        /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,15}$/,\n        \"영문 숫자포함 8자리 이상을 입력하세요\"\n      ),\n  });\n\n  const {\n    register,\n    handleSubmit,\n    control,\n    formState: { errors, isValid },\n  } = useForm({\n    mode: \"onBlur\",\n    resolver: yupResolver(formSchema),\n  });\n\n  Swal.setControl(control, true);\n\n  async function onSubmit(submitData) {\n\n    await axwrap\n      .post(`${GVar.SERVER_URL}/login/`, submitData) // 템플릿 리터럴 사용\n      .then((data) => {\n        var jwtToken = data.token; // 토큰 값을 추출\nconsole.log(\"data=\" + data);\n\n        if (jwtToken !== null) {\n          setLogin(jwtToken); // setLogin 함수를 사용하여 토큰을 로컬 스토리지에 저장\nconsole.log(\"token=\" + localStorage.getItem(\"token\"));\n        }\n        navigate(\"/\");\n      })\n      .catch((response) => {\n        if (response.status === 401) {\n          return Swal.alertErr(\"회원 정보가 맞지 않습니다.\", \"in_email\");\n        }\n      });\nconsole.log(\"leave onSubmit()\");\n  };\n\n  function onClickSubmitButton(e) {\n    if (isValid) return;\n    e.preventDefault(); // 버튼 클릭 취소\n    Swal.alert(\"회원가입 정보 입력을 완료하고 버튼을 클릭하세요.\");\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n    <div className=\"contentBoard\" style={{ width: \"calc(50vh * 1.5)\", height: \"45vh\" }}>\n      <div className=\"contentContainer\">\n        <h2 className=\"pageTitle\">{GVar.TITLE}</h2>\n        <div style={{ width:\"65%\" }}>\n          <InputText name=\"in_email\" autoFocus\n            maxLength=\"40\" trim={true} tabIndex=\"1\"\n            label=\"E-mail\"\n            placeholder=\"이메일을 입력해주세요.\"\n            error={errors}\n            {...register(\"in_email\")}\n          />\n      \t  <InputText type=\"password\" name=\"in_passwd\"\n            maxLength=\"16\" tabIndex=\"2\"\n            label=\"Password\"\n            placeholder=\"비밀번호를 입력해주세요.\"\n            error={errors}\n            {...register(\"in_passwd\")}\n          />\n        </div>\n        <div style={{ position:\"relative\", width: \"90%\" }}>\n          <div style={{ position:\"absolute\", width: \"100%\", bottom: \"1vh\", textAlign: \"right\" }}>\n            <Link to=\"/join\" className=\"textLink\" tabIndex=\"4\">\n              회원가입하기\n            </Link>\n          </div>\n          <button type=\"submit\" className=\"button\" onClick={(e)=>{onClickSubmitButton(e)}} tabIndex=\"3\">\n            로그인\n          </button>\n        </div>\n      </div>\n    </div>\n    </form>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}